<!DOCTYPE html>
<html>
<head>
<title>正在寻找最快线路</title>
<style>
  body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    font-size: 24px;
  }
</style>
</head>
<body>
  <div id="status">正在寻找最快线路，请稍等...</div>

  <script>
    const urls = [
      "https://hczwp5.xn--920a.fun/s/eaIY",
      "https://hczwp3.胡.fun",
      "https://hczwp2.胡.fun"
    ];
  
    let currentUrlIndex = 0;
  
    function fetchWithTimeout(url, timeout = 5000) {
      const controller = new AbortController();
      const id = setTimeout(() => controller.abort(), timeout);
  
      return fetch(url, {
        method: 'GET',
        mode: 'cors',
        redirect: 'manual',
        signal: controller.signal
      }).finally(() => clearTimeout(id));
    }
  
    function checkUrl() {
      if (currentUrlIndex >= urls.length) {
        window.location.href = 'index2.html';
        return;
      }
  
      const url = urls[currentUrlIndex];
  
      fetchWithTimeout(url)
        .then(response => {
          if (response.status == 302) {
            const location = response.headers.get('Location');
            if (location) {
              window.location.href = location; // 跳转到重定向地址
            } else {
              currentUrlIndex++;
              checkUrl(); // 无 Location 头，尝试下一个
            }
          } else if (response.ok) {
            window.location.href = url; // 直接跳转
          } else {
            currentUrlIndex++;
            checkUrl(); // 其他错误，尝试下一个
          }
        })
        .catch(error => {
          currentUrlIndex++;
          checkUrl(); // 请求失败，尝试下一个
        });
    }
  
    checkUrl();
  </script>
  
  
</body>
</html>